{"version":3,"sources":["webpack:///src/app/shared/list-table/base-list/base-list.component.ts","webpack:///src/app/shared/list-table/base-table/base-table.component.ts","webpack:///src/app/models/domain/new-dto/person.new.dto.ts","webpack:///src/app/services/image-util.service.ts","webpack:///src/app/models/domain/dto/country.dto.ts","webpack:///src/app/models/domain/dto/state.dto.ts","webpack:///src/app/models/domain/dto/city.dto.ts","webpack:///src/app/views/persons/persons-form.component.ts","webpack:///src/app/services/domain/country.service.ts","webpack:///src/app/shared/list-table/base-card-list/base-card-list.component.ts","webpack:///src/app/services/zip-code.service.ts","webpack:///src/app/services/domain/state.service.ts","webpack:///src/app/services/domain/city.service.ts","webpack:///src/app/models/domain/dto/meeting-schedule.dto.ts"],"names":["BaseListComponent","translateService","storageService","modalService","super","globalHeader","error$","queryField","hasError","recordsCount","params","modalTexts","confirm","title","body","success","error","loading","confirmTitle","confirmBody","successTitle","successMessage","errorTitle","errorMessage","loadingErrorTitle","loadingErrorMessage","message","this","showAlertDanger","BaseTableComponent","_localUser","tableHeaders","PersonNewDTO","phoneNumbers","id","name","email","socialSecurityNumber","password","street","number","value","complement","zipCode","cityId","ImageUtilService","fileName","toLowerCase","split","join","CountryDTO","abbreviation","StateDTO","CityDTO","PersonsFormComponent","formBuilder","router","zipCodeService","countryService","stateService","cityService","personService","currentCountryId","currentStateAbbreviation","currentCityName","countries","states","cities","previousSocialSecurityNumber","previousEmail","socialSecurityNumberExists","emailExists","showModal","countries$","loadCountries","form","buildForm","valueChanges","subscribe","response","Object","assign","model","get","countryId","loadStates","stateId","loadCities","statusChanges","pipe","distinctUntilChanged","switchMap","status","searchZipCode","data","loadAddressData","subscription$","unsubscribe","currentForm","fields","keys","controls","forEach","field","push","map","index","endsWith","replace","char","toUpperCase","substring","length","showValidations","listCountries","country","DTO","parseInt","listStates","loadedStates","state","setTimeout","STATE","filter","getAbbreviation","patchValue","getId","listCities","loadedCities","city","CITY","getName","group","required","minLength","maxLength","confirmPassword","equalsTo","phoneNumber0","phoneNumber1","phoneNumber2","currentCountry","includes","valid","findPersonBySSN","environment","API","console","log","findPersonByEmail","searchSocialSecurityNumber","searchEmail","CountryService","httpClient","listAll","BaseCardListComponent","ZipCodeService","test","StateService","CityService","MeetingScheduleDTO","datetime","employee","student","meetingStatus"],"mappings":"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","file":"x","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormControl } from '@angular/forms';\r\nimport { HttpParams } from '@angular/common/http';\r\nimport { Observable, Subject } from 'rxjs';\r\n\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ModalService } from '../../../services/modal.service';\r\nimport { StorageService } from 'src/app/services/storage.service';\r\n\r\nimport { BaseTranslateComponent } from '../../base-translate/base-translate.component';\r\n\r\n@Component({\r\n  selector: 'app-base-list',\r\n  template: '<div></div>'\r\n})\r\nexport abstract class BaseListComponent<T = any> extends BaseTranslateComponent implements OnInit {\r\n\r\n  public globalHeader = 'header';\r\n  public records$: Observable<T[]>;\r\n  public error$ = new Subject<boolean>();\r\n  public queryField = new FormControl();\r\n  public hasError = false;\r\n  public recordsCount = 0;\r\n  protected params = new HttpParams();\r\n  protected selectedModel: T;\r\n\r\n  // modal related\r\n  protected modalTexts = {\r\n    confirm: { title: 'modal.titles.confirmation', body: 'modal.messages.confirmation' },\r\n    success: { title: 'modal.titles.success', body: 'modal.messages.delete-success' },\r\n    error: { title: 'modal.titles.error', body: 'modal.messages.delete-error' },\r\n    loading: { body: 'global.messages.system-error' }\r\n  };\r\n\r\n  protected confirmTitle = 'modal.titles.confirmation';\r\n  protected confirmBody = 'modal.messages.confirmation';\r\n  protected successTitle = 'modal.titles.success';\r\n  protected successMessage = 'modal.messages.delete-success';\r\n  protected errorTitle = 'modal.titles.error';\r\n  protected errorMessage = 'modal.messages.delete-error';\r\n  protected loadingErrorTitle = 'modal.titles.error';\r\n  protected loadingErrorMessage = 'global.messages.system-error';\r\n\r\n  constructor(\r\n    protected translateService: TranslateService,\r\n    protected storageService: StorageService,\r\n    protected modalService: ModalService) {\r\n    super(translateService, storageService);\r\n  }\r\n\r\n  ngOnInit(): void { }\r\n\r\n  public abstract onUpdate(): void;\r\n  public abstract onDelete(model: T);\r\n  protected abstract loadData(): void;\r\n\r\n  protected handleError(title: string, message: string): void {\r\n    this.modalService.showAlertDanger(title, message);\r\n  }\r\n\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ModalService } from '../../../services/modal.service';\r\nimport { StorageService } from 'src/app/services/storage.service';\r\n\r\nimport { LocalUser } from 'src/app/models/local-user';\r\n\r\nimport { BaseListComponent } from '../base-list/base-list.component';\r\n\r\n@Component({\r\n  selector: 'app-base-table',\r\n  template: '<div></div>'\r\n})\r\nexport abstract class BaseTableComponent<T = any> extends BaseListComponent<T> {\r\n\r\n  protected _localUser = new LocalUser ();\r\n  public tableHeaders: string[] = [];\r\n\r\n  constructor(\r\n    protected translateService: TranslateService,\r\n    protected storageService: StorageService,\r\n    protected modalService: ModalService,\r\n  ) {\r\n    super(translateService, storageService, modalService);\r\n  }\r\n\r\n  protected abstract pipeFindAll(observable: Observable<any>): any;\r\n  public abstract onReload(): void;\r\n}\r\n","\r\nexport abstract class PersonNewDTO {\r\n\r\n    protected id: number;\r\n    protected name: string;\r\n    protected email: string;\r\n    protected socialSecurityNumber: string;\r\n    protected password: string;\r\n    protected phoneNumbers: string[] = [];\r\n\r\n    protected street: string;\r\n    protected number: string;\r\n    protected complement: string;\r\n    protected zipCode: string;\r\n\r\n    protected cityId: number;\r\n\r\n    constructor() {}\r\n\r\n    public getId(): number {\r\n        return this.id;\r\n    }\r\n\r\n    public setId(id: number) {\r\n        this.id = id;\r\n    }\r\n\r\n    public getName(): string {\r\n        return this.name;\r\n    }\r\n\r\n    public setName(name: string) {\r\n        this.name = name;\r\n    }\r\n\r\n    public getEmail(): string {\r\n        return this.email;\r\n    }\r\n\r\n    public setEmail(email: string) {\r\n        this.email = email;\r\n    }\r\n\r\n    public getSocialSecurityNumber(): string {\r\n        return this.socialSecurityNumber;\r\n    }\r\n\r\n    public setSocialSecurityNumber(socialSecurityNumber: string) {\r\n        this.socialSecurityNumber = socialSecurityNumber;\r\n    }\r\n\r\n    public getPassword(): string {\r\n        return this.password;\r\n    }\r\n\r\n    public setPassword(password: string) {\r\n        this.password = password;\r\n    }\r\n\r\n    public getPhoneNumbers(): string[] {\r\n        return this.phoneNumbers;\r\n    }\r\n\r\n    public setPhoneNumbers(phoneNumbers: string[]) {\r\n        this.phoneNumbers = phoneNumbers;\r\n    }\r\n\r\n    public getStreet(): string {\r\n        return this.street;\r\n    }\r\n\r\n    public setStreet(street: string) {\r\n        this.street = street;\r\n    }\r\n\r\n    public getNumber(): string {\r\n        return this.number;\r\n    }\r\n\r\n    public setNumber(value: string) {\r\n        this.number = value;\r\n    }\r\n\r\n    public getComplement(): string {\r\n        return this.complement;\r\n    }\r\n\r\n    public setComplement(complement: string) {\r\n        this.complement = complement;\r\n    }\r\n\r\n    public getZipCode(): string {\r\n        return this.zipCode;\r\n    }\r\n\r\n    public setZipCode(zipCode: string) {\r\n        this.zipCode = zipCode;\r\n    }\r\n\r\n    public getCityId(): number {\r\n        return this.cityId;\r\n    }\r\n\r\n    public setCityId(cityId: number) {\r\n        this.cityId = cityId;\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ImageUtilService {\r\n\r\n  constructor() { }\r\n\r\n  public buildFileName(fileName: string): string {\r\n    if (!fileName || fileName === '') {\r\n      return null;\r\n    }\r\n\r\n    fileName = fileName.toLowerCase ();\r\n    fileName = fileName.split (' ').join ('-');\r\n    fileName = fileName.split ('_').join ('-');\r\n    return fileName;\r\n  }\r\n\r\n}\r\n","\r\nexport class CountryDTO {\r\n\r\n    private id: number;\r\n    private name: string;\r\n    private abbreviation: string;\r\n\r\n    constructor() {}\r\n\r\n    public getId(): number {\r\n        return this.id;\r\n    }\r\n\r\n    public setId(id: number) {\r\n        this.id = id;\r\n    }\r\n\r\n    public getName(): string {\r\n        return this.name;\r\n    }\r\n\r\n    public setName(name: string) {\r\n        this.name = name;\r\n    }\r\n\r\n    public getAbbreviation(): string {\r\n        return this.abbreviation;\r\n    }\r\n\r\n    public setAbbreviation(abbreviation: string) {\r\n        this.abbreviation = abbreviation;\r\n    }\r\n}\r\n","\r\nexport class StateDTO {\r\n\r\n    private id: number;\r\n    private name: string;\r\n    private abbreviation: string;\r\n\r\n    constructor() {}\r\n\r\n    public getId(): number {\r\n        return this.id;\r\n    }\r\n\r\n    public setId(id: number) {\r\n        this.id = id;\r\n    }\r\n\r\n    public getName(): string {\r\n        return this.name;\r\n    }\r\n\r\n    public setName(name: string) {\r\n        this.name = name;\r\n    }\r\n\r\n    public getAbbreviation(): string {\r\n        return this.abbreviation;\r\n    }\r\n\r\n    public setAbbreviation(abbreviation: string) {\r\n        this.abbreviation = abbreviation;\r\n    }\r\n}\r\n","\r\nexport class CityDTO {\r\n\r\n    private id: number;\r\n    private name: string;\r\n\r\n    constructor() {}\r\n\r\n    public getId(): number {\r\n        return this.id;\r\n    }\r\n\r\n    public setId(id: number) {\r\n        this.id = id;\r\n    }\r\n\r\n    public getName(): string {\r\n        return this.name;\r\n    }\r\n\r\n    public setName(name: string) {\r\n        this.name = name;\r\n    }\r\n}\r\n","import { Component, OnInit, OnDestroy, ViewChild, ElementRef } from '@angular/core';\r\nimport { FormBuilder, Validators, FormGroup } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { Observable, EMPTY } from 'rxjs';\r\nimport { map, distinctUntilChanged, switchMap } from 'rxjs/operators';\r\n\r\nimport { environment } from 'src/environments/environment';\r\n\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ModalService } from 'src/app/services/modal.service';\r\nimport { ZipCodeService } from 'src/app/services/zip-code.service';\r\nimport { CountryService } from 'src/app/services/domain/country.service';\r\nimport { StateService } from 'src/app/services/domain/state.service';\r\nimport { CityService } from 'src/app/services/domain/city.service';\r\nimport { StorageService } from 'src/app/services/storage.service';\r\nimport { PersonService } from 'src/app/services/domain/person.service';\r\n\r\nimport { CountryDTO } from 'src/app/models/domain/dto/country.dto';\r\nimport { StateDTO } from 'src/app/models/domain/dto/state.dto';\r\nimport { CityDTO } from 'src/app/models/domain/dto/city.dto';\r\nimport { PersonDTO } from 'src/app/models/domain/dto/person.dto';\r\n\r\nimport { FormValidators } from 'src/app/shared/utils/form-validators';\r\n\r\nimport { BaseFormComponent } from 'src/app/shared/base-form/base-form.component';\r\n\r\n@Component({\r\n    selector: 'app-persons-form',\r\n    template: '<div></div>'\r\n})\r\nexport abstract class PersonsFormComponent<T> extends BaseFormComponent<T> implements OnInit, OnDestroy {\r\n\r\n    protected currentCountryId = 0;\r\n    protected currentStateAbbreviation = '';\r\n    protected currentCityName = '';\r\n\r\n    public countries$: Observable<CountryDTO[]>;\r\n    protected countries: CountryDTO[] = [];\r\n    public states: StateDTO[] = [];\r\n    public cities: CityDTO[] = [];\r\n\r\n    private previousSocialSecurityNumber = '';\r\n    private previousEmail = '';\r\n    protected socialSecurityNumberExists = false;\r\n    protected emailExists = false;\r\n\r\n    constructor(\r\n        protected translateService: TranslateService,\r\n        protected storageService: StorageService,\r\n        protected formBuilder: FormBuilder,\r\n        protected router: Router,\r\n        protected modalService: ModalService,\r\n        protected zipCodeService: ZipCodeService,\r\n        protected countryService: CountryService,\r\n        protected stateService: StateService,\r\n        protected cityService: CityService,\r\n        protected personService: PersonService,\r\n    ) {\r\n        super(translateService, storageService, formBuilder, router);\r\n        this.showModal = true;\r\n    }\r\n\r\n    ngOnInit(): void {\r\n\r\n        // default values\r\n        this.countries$ = this.loadCountries ();\r\n        this.form = this.buildForm ();\r\n        this.form.valueChanges.subscribe (response => Object.assign (this.model, response));\r\n\r\n        this.form.get ('countryId').valueChanges.subscribe (\r\n            (countryId) => {\r\n                if (countryId !== null && countryId !== '') {\r\n                    this.loadStates (countryId);\r\n                }\r\n                else {\r\n                    this.states = [];\r\n                    this.cities = [];\r\n                }\r\n            },\r\n            () => this.states = []\r\n        );\r\n\r\n        this.form.get ('stateId').valueChanges.subscribe (\r\n            (stateId) => {\r\n                if (this.currentCountryId !== null && this.currentCountryId !== 0 && stateId !== null && stateId !== '') {\r\n                    this.loadCities (stateId);\r\n                }\r\n                else {\r\n                    this.cities = [];\r\n                }\r\n            },\r\n            () => this.cities = []\r\n        );\r\n\r\n        this.form.get ('zipCode').statusChanges.pipe (\r\n            distinctUntilChanged (),\r\n            switchMap (status => {\r\n                return status === 'VALID' ? this.zipCodeService.searchZipCode (this.form.get ('zipCode').value) : EMPTY;\r\n            })\r\n        ).subscribe (data => data ? this.loadAddressData (data) : {});\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.subscription$.unsubscribe ();\r\n    }\r\n\r\n    protected showValidationModal(currentForm: FormGroup): void {\r\n\r\n        const fields: string[] = [];\r\n        Object.keys (currentForm.controls).forEach (field => fields.push (field));\r\n\r\n        fields.map ((name, index) => {\r\n          if (name.endsWith ('Id')) {\r\n            name = name.replace ('Id', '');\r\n          }\r\n\r\n          name = name.split ('').map (char => char === char.toUpperCase () ? ` ${char}` : char).join('');\r\n          name = (name.substring (0, 1).toUpperCase () + name.substring (1, name.length));\r\n          fields[index] = name;\r\n        });\r\n\r\n        this.modalService.showValidations (fields);\r\n    }\r\n\r\n    private loadCountries(): Observable<CountryDTO[]> {\r\n        return this.countryService.listCountries ().pipe (\r\n            map (countries => {\r\n                return countries.map (country => {\r\n                    const DTO = new CountryDTO ();\r\n                    Object.assign (DTO, country);\r\n                    this.countries.push (DTO);\r\n                    return DTO;\r\n                });\r\n            })\r\n        );\r\n    }\r\n\r\n    private loadStates(countryId: string): void {\r\n        this.currentCountryId = parseInt (countryId, 10);\r\n        this.subscription$ = this.stateService.listStates (parseInt (countryId, 10)).subscribe (\r\n            (loadedStates: StateDTO[]) => {\r\n                this.states = loadedStates.map (state => {\r\n                    const DTO = new StateDTO ();\r\n                    Object.assign (DTO, state);\r\n                    return DTO;\r\n                });\r\n\r\n                setTimeout (() => {\r\n                    if (this.currentStateAbbreviation !== '') {\r\n                        const STATE = this.states.filter (state => state.getAbbreviation () === this.currentStateAbbreviation)[0];\r\n                        if (STATE != null) {\r\n                            this.form.patchValue ({ stateId: STATE.getId () });\r\n                        } else {\r\n                            this.currentStateAbbreviation = '';\r\n                        }\r\n                    }\r\n                }, 100);\r\n            },\r\n            () => this.states = []\r\n        );\r\n    }\r\n\r\n    private loadCities(stateId: string): void {\r\n        this.subscription$ = this.cityService.listCities(this.currentCountryId, parseInt(stateId, 10))\r\n            .subscribe((loadedCities: CityDTO[]) => {\r\n                this.cities = loadedCities.map (city => {\r\n                    const DTO = new CityDTO ();\r\n                    Object.assign (DTO, city);\r\n                    return DTO;\r\n                });\r\n\r\n                setTimeout (() => {\r\n                    if (this.currentCityName !== '') {\r\n                        const CITY = this.cities.filter (\r\n                            city => city.getName ().toLowerCase () === this.currentCityName.toLowerCase ())[0];\r\n\r\n                        if (CITY != null) {\r\n                            this.form.patchValue ({ cityId: CITY.getId () });\r\n                        } else {\r\n                            this.currentCityName = '';\r\n                        }\r\n                    }\r\n                }, 100);\r\n            },\r\n            () => this.cities = []\r\n        );\r\n    }\r\n\r\n    private buildForm(): FormGroup {\r\n        return this.formBuilder.group({\r\n            id: [null],\r\n            name: [null, [Validators.required, Validators.minLength (5), Validators.maxLength (120)]],\r\n            email: [null, [Validators.required, Validators.email, Validators.maxLength (30)]],\r\n            socialSecurityNumber: [null, [Validators.required, Validators.minLength (11), Validators.maxLength (11)]],\r\n            password: [null, [Validators.required, Validators.minLength (10), Validators.maxLength (20)]],\r\n            confirmPassword: [null, [Validators.required, FormValidators.equalsTo ('password')]],\r\n            phoneNumbers: this.formBuilder.group({\r\n                phoneNumber0: [null, [Validators.required, Validators.minLength (12), Validators.maxLength (12)]],\r\n                phoneNumber1: [null, [Validators.minLength (12), Validators.maxLength (12)]],\r\n                phoneNumber2: [null, [Validators.minLength (12), Validators.maxLength (12)]],\r\n            }),\r\n            street: [null, [Validators.required, Validators.minLength (5), Validators.maxLength (120)]],\r\n            number: [null, [Validators.required, Validators.minLength (1), Validators.maxLength (5)]],\r\n            complement: [null],\r\n            zipCode: [null, [Validators.required, Validators.minLength(5), Validators.maxLength (10), FormValidators.zipCode]],\r\n            countryId: [null, [Validators.required]],\r\n            stateId: [null, [Validators.required]],\r\n            cityId: [null, [Validators.required]],\r\n        });\r\n    }\r\n\r\n    private loadAddressData(data: any): void {\r\n\r\n        if (!('error' in data)) {\r\n            const currentCountry = this.countries.filter (country => country.getAbbreviation ().includes (data.country))[0];\r\n            if (currentCountry != null) {\r\n                this.currentCountryId = currentCountry.getId ();\r\n                this.currentStateAbbreviation = data.state;\r\n                this.currentCityName = data.city;\r\n                this.form.patchValue ({ countryId: currentCountry.getId () });\r\n            }\r\n        }\r\n        else {\r\n            this.modalService.showAlertDanger ('modal.titles.attention', 'modal.messages.zipcode-not-found');\r\n        }\r\n    }\r\n\r\n    private searchSocialSecurityNumber(socialSecurityNumber: string): void {\r\n        if (this.form.get('socialSecurityNumber').valid) {\r\n            if (this.previousSocialSecurityNumber !== socialSecurityNumber) {\r\n                const URL = `${environment.API}/v1/public/persons/ssn`;\r\n                this.subscription$ = this.personService.findPersonBySSN(URL, socialSecurityNumber)\r\n                    .subscribe(response => {\r\n                        const dto = response as PersonDTO;\r\n                        if (dto != null) {\r\n                            this.socialSecurityNumberExists = true;\r\n                            this.modalService.showAlertDanger ('modal.titles.error', 'modal.messages.ssn-found');\r\n                        }\r\n                    },\r\n                    error => {\r\n                        console.log (error);\r\n                        this.socialSecurityNumberExists = false;\r\n                        this.previousSocialSecurityNumber = socialSecurityNumber;\r\n                    }\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n    private searchEmail(email: string): void {\r\n        if (this.form.get('email').valid) {\r\n            if (this.previousEmail !== email) {\r\n                const URL = `${environment.API}/v1/public/persons/email`;\r\n                this.subscription$ = this.personService.findPersonByEmail(URL, email).subscribe(\r\n                    response => {\r\n                        const DTO = response as PersonDTO;\r\n                        if (DTO != null) {\r\n                            this.emailExists = true;\r\n                            this.modalService.showAlertDanger ('modal.titles.error', 'modal.messages.email-found');\r\n                        }\r\n                    },\r\n                    error => {\r\n                        console.log (error);\r\n                        this.emailExists = false;\r\n                        this.previousEmail = email;\r\n                    }\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n    public onSocialSecurityNumberFocusOut(value: string): void {\r\n        this.searchSocialSecurityNumber (value);\r\n    }\r\n\r\n    public onEmailFocusOut(value: string): void {\r\n        this.searchEmail (value);\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { environment } from 'src/environments/environment';\r\n\r\nimport { CountryDTO } from '../../models/domain/dto/country.dto';\r\n\r\nimport { CrudService } from '../crud.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CountryService extends CrudService<CountryDTO> {\r\n\r\n  constructor(protected httpClient: HttpClient) {\r\n    super(httpClient);\r\n  }\r\n\r\n  public listCountries(): Observable<CountryDTO[]> {\r\n    return this.listAll (`${environment.API}/v1/public/countries`);\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\nimport { ModalService } from '../../../services/modal.service';\r\nimport { StorageService } from 'src/app/services/storage.service';\r\n\r\nimport { BaseListComponent } from '../base-list/base-list.component';\r\n\r\n@Component({\r\n  selector: 'app-base-card-list',\r\n  template: '<div></div>'\r\n})\r\nexport abstract class BaseCardListComponent<T = any> extends BaseListComponent<T> {\r\n\r\n  constructor(\r\n    protected translateService: TranslateService,\r\n    protected storageService: StorageService,\r\n    protected modalService: ModalService) {\r\n    super(translateService, storageService, modalService);\r\n  }\r\n\r\n  public abstract onDelete(model: T): void;\r\n  public abstract onSearch(): void;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable, of } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ZipCodeService {\r\n\r\n  constructor(private httpClient: HttpClient) { }\r\n\r\n  public searchZipCode(zipCode: string): Observable<object> {\r\n\r\n    if (zipCode !== '') {\r\n      const regex = /^[0-9]{5}(?:-[0-9]{4})?$/;\r\n      if (regex.test (zipCode)) {\r\n        return this.httpClient.get (`//ziptasticapi.com/${zipCode}`);\r\n      }\r\n    }\r\n\r\n    return of ({});\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { environment } from 'src/environments/environment';\r\n\r\nimport { CrudService } from '../crud.service';\r\n\r\nimport { StateDTO } from '../../models/domain/dto/state.dto';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class StateService extends CrudService<StateDTO> {\r\n\r\n  constructor(protected httpClient: HttpClient) {\r\n    super(httpClient);\r\n  }\r\n\r\n  public listStates(countryId: number): Observable<StateDTO[]> {\r\n    return this.listAll (`${environment.API}/v1/public/countries/${countryId}/states`);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { environment } from 'src/environments/environment';\r\n\r\nimport { CrudService } from '../crud.service';\r\n\r\nimport { CityDTO } from '../../models/domain/dto/city.dto';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CityService extends CrudService<CityDTO> {\r\n\r\n  constructor(protected httpClient: HttpClient) {\r\n    super(httpClient);\r\n  }\r\n\r\n  public listCities(countryId: number, stateId: number): Observable<CityDTO[]> {\r\n    const url = `${environment.API}/v1/public/countries/${countryId}/states/${stateId}/cities`;\r\n    return this.listAll (url);\r\n  }\r\n}\r\n","import { EmployeeDTO } from './employee.dto';\r\nimport { StudentDTO } from './student.dto';\r\n\r\nexport class MeetingScheduleDTO {\r\n\r\n    private id: number;\r\n    private datetime: Date;\r\n    private employee: EmployeeDTO;\r\n    private student: StudentDTO;\r\n    private meetingStatus: string;\r\n\r\n    constructor() {}\r\n\r\n    public getId(): number {\r\n        return this.id;\r\n    }\r\n\r\n    public setId(id: number) {\r\n        this.id = id;\r\n    }\r\n\r\n    public getDatetime(): Date {\r\n        return this.datetime;\r\n    }\r\n\r\n    public setDatetime(datetime: Date) {\r\n        this.datetime = datetime;\r\n    }\r\n\r\n    public getEmployee(): EmployeeDTO {\r\n        return this.employee;\r\n    }\r\n\r\n    public setEmployee(employee: EmployeeDTO) {\r\n        this.employee = employee;\r\n    }\r\n\r\n    public getStudent(): StudentDTO {\r\n        return this.student;\r\n    }\r\n\r\n    public setStudent(student: StudentDTO) {\r\n        this.student = student;\r\n    }\r\n\r\n    public getMeetingStatus(): string {\r\n        return this.meetingStatus;\r\n    }\r\n\r\n    public setMeetingStatus(meetingStatus: string) {\r\n        this.meetingStatus = meetingStatus;\r\n    }\r\n}\r\n"]}