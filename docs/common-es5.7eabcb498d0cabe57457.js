!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return o(this,n)}}function o(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"1QM4":function(e,i,o){"use strict";o.d(i,"a",function(){return h});var s=o("3Pt+"),a=o("tk/3"),c=o("XNiG"),l=o("0OAS"),f=o("fXoL"),d=o("sYmb"),m=o("n90K"),v=o("VQPA"),h=function(){var e=function(e){r(o,e);var i=u(o);function o(e,n,r){var u;return t(this,o),(u=i.call(this,e,n)).translateService=e,u.storageService=n,u.modalService=r,u.globalHeader="header",u.error$=new c.a,u.queryField=new s.d,u.hasError=!1,u.recordsCount=0,u.params=new a.d,u.modalTexts={confirm:{title:"modal.titles.confirmation",body:"modal.messages.confirmation"},success:{title:"modal.titles.success",body:"modal.messages.delete-success"},error:{title:"modal.titles.error",body:"modal.messages.delete-error"},loading:{body:"global.messages.system-error"}},u.confirmTitle="modal.titles.confirmation",u.confirmBody="modal.messages.confirmation",u.successTitle="modal.titles.success",u.successMessage="modal.messages.delete-success",u.errorTitle="modal.titles.error",u.errorMessage="modal.messages.delete-error",u.loadingErrorTitle="modal.titles.error",u.loadingErrorMessage="global.messages.system-error",u}return n(o,[{key:"ngOnInit",value:function(){}},{key:"handleError",value:function(t,e){this.modalService.showAlertDanger(t,e)}}]),o}(l.a);return e.\u0275fac=function(t){return new(t||e)(f.Jb(d.d),f.Jb(m.a),f.Jb(v.a))},e.\u0275cmp=f.Db({type:e,selectors:[["app-base-list"]],features:[f.ub],decls:1,vars:0,template:function(t,e){1&t&&f.Kb(0,"div")},encapsulation:2}),e}()},"1w29":function(e,n,i){"use strict";i.d(n,"a",function(){return d});var o=i("kpR/"),s=i("1QM4"),a=i("fXoL"),c=i("sYmb"),l=i("n90K"),f=i("VQPA"),d=function(){var e=function(e){r(i,e);var n=u(i);function i(e,r,u){var s;return t(this,i),(s=n.call(this,e,r,u)).translateService=e,s.storageService=r,s.modalService=u,s._localUser=new o.a,s.tableHeaders=[],s}return i}(s.a);return e.\u0275fac=function(t){return new(t||e)(a.Jb(c.d),a.Jb(l.a),a.Jb(f.a))},e.\u0275cmp=a.Db({type:e,selectors:[["app-base-table"]],features:[a.ub],decls:1,vars:0,template:function(t,e){1&t&&a.Kb(0,"div")},encapsulation:2}),e}()},"4hIP":function(e,r,i){"use strict";i.d(r,"a",function(){return u});var u=function(){function e(){t(this,e),this.phoneNumbers=[]}return n(e,[{key:"getId",value:function(){return this.id}},{key:"setId",value:function(t){this.id=t}},{key:"getName",value:function(){return this.name}},{key:"setName",value:function(t){this.name=t}},{key:"getEmail",value:function(){return this.email}},{key:"setEmail",value:function(t){this.email=t}},{key:"getSocialSecurityNumber",value:function(){return this.socialSecurityNumber}},{key:"setSocialSecurityNumber",value:function(t){this.socialSecurityNumber=t}},{key:"getPassword",value:function(){return this.password}},{key:"setPassword",value:function(t){this.password=t}},{key:"getPhoneNumbers",value:function(){return this.phoneNumbers}},{key:"setPhoneNumbers",value:function(t){this.phoneNumbers=t}},{key:"getStreet",value:function(){return this.street}},{key:"setStreet",value:function(t){this.street=t}},{key:"getNumber",value:function(){return this.number}},{key:"setNumber",value:function(t){this.number=t}},{key:"getComplement",value:function(){return this.complement}},{key:"setComplement",value:function(t){this.complement=t}},{key:"getZipCode",value:function(){return this.zipCode}},{key:"setZipCode",value:function(t){this.zipCode=t}},{key:"getCityId",value:function(){return this.cityId}},{key:"setCityId",value:function(t){this.cityId=t}}]),e}()},Avbo:function(e,r,i){"use strict";i.d(r,"a",function(){return o});var u=i("fXoL"),o=function(){var e=function(){function e(){t(this,e)}return n(e,[{key:"buildFileName",value:function(t){return t&&""!==t?t=(t=(t=t.toLowerCase()).split(" ").join("-")).split("_").join("-"):null}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=u.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},Dplh:function(e,i,o){"use strict";o.d(i,"a",function(){return E});var s,a=o("3Pt+"),c=o("EY2u"),l=o("/uUt"),f=o("eIep"),d=o("lJxs"),m=o("AytR"),v=function(){function e(){t(this,e)}return n(e,[{key:"getId",value:function(){return this.id}},{key:"setId",value:function(t){this.id=t}},{key:"getName",value:function(){return this.name}},{key:"setName",value:function(t){this.name=t}},{key:"getAbbreviation",value:function(){return this.abbreviation}},{key:"setAbbreviation",value:function(t){this.abbreviation=t}}]),e}(),h=function(){function e(){t(this,e)}return n(e,[{key:"getId",value:function(){return this.id}},{key:"setId",value:function(t){this.id=t}},{key:"getName",value:function(){return this.name}},{key:"setName",value:function(t){this.name=t}},{key:"getAbbreviation",value:function(){return this.abbreviation}},{key:"setAbbreviation",value:function(t){this.abbreviation=t}}]),e}(),b=function(){function e(){t(this,e)}return n(e,[{key:"getId",value:function(){return this.id}},{key:"setId",value:function(t){this.id=t}},{key:"getName",value:function(){return this.name}},{key:"setName",value:function(t){this.name=t}}]),e}(),p=o("tk4k"),y=o("DC0s"),g=o("fXoL"),k=o("sYmb"),S=o("n90K"),I=o("tyNb"),C=o("VQPA"),w=o("bmVm"),N=o("Vd1Q"),A=o("dDXk"),L=o("iu4l"),O=o("xaOb"),E=((s=function(e){r(o,e);var i=u(o);function o(e,n,r,u,s,a,c,l,f,d){var m;return t(this,o),(m=i.call(this,e,n,r,u)).translateService=e,m.storageService=n,m.formBuilder=r,m.router=u,m.modalService=s,m.zipCodeService=a,m.countryService=c,m.stateService=l,m.cityService=f,m.personService=d,m.currentCountryId=0,m.currentStateAbbreviation="",m.currentCityName="",m.countries=[],m.states=[],m.cities=[],m.previousSocialSecurityNumber="",m.previousEmail="",m.socialSecurityNumberExists=!1,m.emailExists=!1,m.showModal=!0,m}return n(o,[{key:"ngOnInit",value:function(){var t=this;this.countries$=this.loadCountries(),this.form=this.buildForm(),this.form.valueChanges.subscribe(function(e){return Object.assign(t.model,e)}),this.form.get("countryId").valueChanges.subscribe(function(e){null!==e&&""!==e?t.loadStates(e):(t.states=[],t.cities=[])},function(){return t.states=[]}),this.form.get("stateId").valueChanges.subscribe(function(e){null!==t.currentCountryId&&0!==t.currentCountryId&&null!==e&&""!==e?t.loadCities(e):t.cities=[]},function(){return t.cities=[]}),this.form.get("zipCode").statusChanges.pipe(Object(l.a)(),Object(f.a)(function(e){return"VALID"===e?t.zipCodeService.searchZipCode(t.form.get("zipCode").value):c.a})).subscribe(function(e){return e?t.loadAddressData(e):{}})}},{key:"ngOnDestroy",value:function(){this.subscription$.unsubscribe()}},{key:"showValidationModal",value:function(t){var e=[];Object.keys(t.controls).forEach(function(t){return e.push(t)}),e.map(function(t,n){t.endsWith("Id")&&(t=t.replace("Id","")),t=(t=t.split("").map(function(t){return t===t.toUpperCase()?" "+t:t}).join("")).substring(0,1).toUpperCase()+t.substring(1,t.length),e[n]=t}),this.modalService.showValidations(e)}},{key:"loadCountries",value:function(){var t=this;return this.countryService.listCountries().pipe(Object(d.a)(function(e){return e.map(function(e){var n=new v;return Object.assign(n,e),t.countries.push(n),n})}))}},{key:"loadStates",value:function(t){var e=this;this.currentCountryId=parseInt(t,10),this.subscription$=this.stateService.listStates(parseInt(t,10)).subscribe(function(t){e.states=t.map(function(t){var e=new h;return Object.assign(e,t),e}),setTimeout(function(){if(""!==e.currentStateAbbreviation){var t=e.states.filter(function(t){return t.getAbbreviation()===e.currentStateAbbreviation})[0];null!=t?e.form.patchValue({stateId:t.getId()}):e.currentStateAbbreviation=""}},100)},function(){return e.states=[]})}},{key:"loadCities",value:function(t){var e=this;this.subscription$=this.cityService.listCities(this.currentCountryId,parseInt(t,10)).subscribe(function(t){e.cities=t.map(function(t){var e=new b;return Object.assign(e,t),e}),setTimeout(function(){if(""!==e.currentCityName){var t=e.cities.filter(function(t){return t.getName().toLowerCase()===e.currentCityName.toLowerCase()})[0];null!=t?e.form.patchValue({cityId:t.getId()}):e.currentCityName=""}},100)},function(){return e.cities=[]})}},{key:"buildForm",value:function(){return this.formBuilder.group({id:[null],name:[null,[a.t.required,a.t.minLength(5),a.t.maxLength(120)]],email:[null,[a.t.required,a.t.email,a.t.maxLength(30)]],socialSecurityNumber:[null,[a.t.required,a.t.minLength(11),a.t.maxLength(11)]],password:[null,[a.t.required,a.t.minLength(10),a.t.maxLength(20)]],confirmPassword:[null,[a.t.required,p.a.equalsTo("password")]],phoneNumbers:this.formBuilder.group({phoneNumber0:[null,[a.t.required,a.t.minLength(12),a.t.maxLength(12)]],phoneNumber1:[null,[a.t.minLength(12),a.t.maxLength(12)]],phoneNumber2:[null,[a.t.minLength(12),a.t.maxLength(12)]]}),street:[null,[a.t.required,a.t.minLength(5),a.t.maxLength(120)]],number:[null,[a.t.required,a.t.minLength(1),a.t.maxLength(5)]],complement:[null],zipCode:[null,[a.t.required,a.t.minLength(5),a.t.maxLength(10),p.a.zipCode]],countryId:[null,[a.t.required]],stateId:[null,[a.t.required]],cityId:[null,[a.t.required]]})}},{key:"loadAddressData",value:function(t){if("error"in t)this.modalService.showAlertDanger("modal.titles.attention","modal.messages.zipcode-not-found");else{var e=this.countries.filter(function(e){return e.getAbbreviation().includes(t.country)})[0];null!=e&&(this.currentCountryId=e.getId(),this.currentStateAbbreviation=t.state,this.currentCityName=t.city,this.form.patchValue({countryId:e.getId()}))}}},{key:"searchSocialSecurityNumber",value:function(t){var e=this;this.form.get("socialSecurityNumber").valid&&this.previousSocialSecurityNumber!==t&&(this.subscription$=this.personService.findPersonBySSN(m.a.API+"/v1/public/persons/ssn",t).subscribe(function(t){null!=t&&(e.socialSecurityNumberExists=!0,e.modalService.showAlertDanger("modal.titles.error","modal.messages.ssn-found"))},function(n){console.log(n),e.socialSecurityNumberExists=!1,e.previousSocialSecurityNumber=t}))}},{key:"searchEmail",value:function(t){var e=this;this.form.get("email").valid&&this.previousEmail!==t&&(this.subscription$=this.personService.findPersonByEmail(m.a.API+"/v1/public/persons/email",t).subscribe(function(t){null!=t&&(e.emailExists=!0,e.modalService.showAlertDanger("modal.titles.error","modal.messages.email-found"))},function(n){console.log(n),e.emailExists=!1,e.previousEmail=t}))}},{key:"onSocialSecurityNumberFocusOut",value:function(t){this.searchSocialSecurityNumber(t)}},{key:"onEmailFocusOut",value:function(t){this.searchEmail(t)}}]),o}(y.a)).\u0275fac=function(t){return new(t||s)(g.Jb(k.d),g.Jb(S.a),g.Jb(a.c),g.Jb(I.c),g.Jb(C.a),g.Jb(w.a),g.Jb(N.a),g.Jb(A.a),g.Jb(L.a),g.Jb(O.a))},s.\u0275cmp=g.Db({type:s,selectors:[["app-persons-form"]],features:[g.ub],decls:1,vars:0,template:function(t,e){1&t&&g.Kb(0,"div")},encapsulation:2}),s)},Vd1Q:function(e,i,o){"use strict";o.d(i,"a",function(){return f});var s=o("AytR"),a=o("8OjO"),c=o("fXoL"),l=o("tk/3"),f=function(){var e=function(e){r(o,e);var i=u(o);function o(e){var n;return t(this,o),(n=i.call(this,e)).httpClient=e,n}return n(o,[{key:"listCountries",value:function(){return this.listAll(s.a.API+"/v1/public/countries")}}]),o}(a.a);return e.\u0275fac=function(t){return new(t||e)(c.Sb(l.b))},e.\u0275prov=c.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},XIlG:function(e,n,i){"use strict";i.d(n,"a",function(){return f});var o=i("1QM4"),s=i("fXoL"),a=i("sYmb"),c=i("n90K"),l=i("VQPA"),f=function(){var e=function(e){r(i,e);var n=u(i);function i(e,r,u){var o;return t(this,i),(o=n.call(this,e,r,u)).translateService=e,o.storageService=r,o.modalService=u,o}return i}(o.a);return e.\u0275fac=function(t){return new(t||e)(s.Jb(a.d),s.Jb(c.a),s.Jb(l.a))},e.\u0275cmp=s.Db({type:e,selectors:[["app-base-card-list"]],features:[s.ub],decls:1,vars:0,template:function(t,e){1&t&&s.Kb(0,"div")},encapsulation:2}),e}()},bmVm:function(e,r,i){"use strict";i.d(r,"a",function(){return a});var u=i("LRne"),o=i("fXoL"),s=i("tk/3"),a=function(){var e=function(){function e(n){t(this,e),this.httpClient=n}return n(e,[{key:"searchZipCode",value:function(t){return""!==t&&/^[0-9]{5}(?:-[0-9]{4})?$/.test(t)?this.httpClient.get("//ziptasticapi.com/"+t):Object(u.a)({})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Sb(s.b))},e.\u0275prov=o.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},dDXk:function(e,i,o){"use strict";o.d(i,"a",function(){return f});var s=o("AytR"),a=o("8OjO"),c=o("fXoL"),l=o("tk/3"),f=function(){var e=function(e){r(o,e);var i=u(o);function o(e){var n;return t(this,o),(n=i.call(this,e)).httpClient=e,n}return n(o,[{key:"listStates",value:function(t){return this.listAll("".concat(s.a.API,"/v1/public/countries/").concat(t,"/states"))}}]),o}(a.a);return e.\u0275fac=function(t){return new(t||e)(c.Sb(l.b))},e.\u0275prov=c.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},iu4l:function(e,i,o){"use strict";o.d(i,"a",function(){return f});var s=o("AytR"),a=o("8OjO"),c=o("fXoL"),l=o("tk/3"),f=function(){var e=function(e){r(o,e);var i=u(o);function o(e){var n;return t(this,o),(n=i.call(this,e)).httpClient=e,n}return n(o,[{key:"listCities",value:function(t,e){return this.listAll("".concat(s.a.API,"/v1/public/countries/").concat(t,"/states/").concat(e,"/cities"))}}]),o}(a.a);return e.\u0275fac=function(t){return new(t||e)(c.Sb(l.b))},e.\u0275prov=c.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},vakP:function(e,r,i){"use strict";i.d(r,"a",function(){return u});var u=function(){function e(){t(this,e)}return n(e,[{key:"getId",value:function(){return this.id}},{key:"setId",value:function(t){this.id=t}},{key:"getDatetime",value:function(){return this.datetime}},{key:"setDatetime",value:function(t){this.datetime=t}},{key:"getEmployee",value:function(){return this.employee}},{key:"setEmployee",value:function(t){this.employee=t}},{key:"getStudent",value:function(){return this.student}},{key:"setStudent",value:function(t){this.student=t}},{key:"getMeetingStatus",value:function(){return this.meetingStatus}},{key:"setMeetingStatus",value:function(t){this.meetingStatus=t}}]),e}()}}])}();
//# sourceMappingURL=common-es5.7eabcb498d0cabe57457.js.map