{"version":3,"sources":["webpack:///src/app/models/domain/dto/email.dto.ts","webpack:///src/app/views/forgot-password/forgot-password-routing.module.ts","webpack:///src/app/views/forgot-password/forgot-password.component.ts","webpack:///src/app/views/forgot-password/forgot-password.component.html","webpack:///src/app/views/forgot-password/forgot-password.module.ts"],"names":["EmailDTO","this","email","ROUTES","path","component","ForgotPasswordComponent","translateService","storageService","formBuilder","router","modalService","authenticationService","super","showModal","model","subscription$","Subscription","form","group","required","unsubscribe","Object","assign","value","waitModal","showWaitModal","setTimeout","forgotPassword","subscribe","hideModal","showAlertSuccess","navigate","showAlertDanger","onSubmit","ForgotPasswordRoutingModule","forChild","ForgotPasswordModule"],"mappings":"yMACO,MAAMA,EAIT,eAEO,WACH,OAAOC,KAAKC,MAGT,SAASA,GACZD,KAAKC,MAAQA,G,6HCPfC,EAAiB,CACrB,CAAEC,KAAM,GAAIC,UCYP,M,MAAMC,UAAgC,IAE3C,YACYC,EACAC,EACAC,EACAC,EACAC,EACFC,GAERC,MAAMN,EAAkBC,EAAgBC,EAAaC,GAP3C,KAAAH,mBACA,KAAAC,iBACA,KAAAC,cACA,KAAAC,SACA,KAAAC,eACF,KAAAC,wBAIRX,KAAKa,WAAY,EACjBb,KAAKc,MAAQ,IAAIf,EACjBC,KAAKe,cAAgB,IAAIC,EAAA,EAG3B,WACEhB,KAAKiB,KAAOjB,KAAKQ,YAAYU,MAAM,CACjCjB,MAAO,CAAC,KAAM,CAAC,IAAWkB,SAAU,IAAWlB,UAInD,cACED,KAAKe,cAAcK,cAGX,SACRpB,KAAKc,MAAQO,OAAOC,OAAOtB,KAAKc,MAAOd,KAAKiB,KAAKM,OACjD,MAAMC,EAAYxB,KAAKU,aAAae,gBAEpCC,WAAW,KACT1B,KAAKe,cAAgBf,KAAKW,sBAAsBgB,eAAe3B,KAAKc,OAAOc,UACzE,KACE5B,KAAKU,aAAamB,UAAWL,GAC7BxB,KAAKU,aAAaoB,iBAAkB,uBAAwB,iCAC5D9B,KAAKS,OAAOsB,SAAU,CAAC,WAEzB,KACE/B,KAAKU,aAAamB,UAAWL,GAC7BxB,KAAKU,aAAasB,gBAAiB,yBAA0B,gCAGhE,KAGK,oBAAoBf,GAC5BjB,KAAKU,aAAasB,gBAAgB,yBAA0B,qC,6CA/CnD3B,GAAuB,8D,uBAAvBA,EAAuB,klBChBpC,oBACI,gBACI,gBACI,gBACI,iBACI,eACI,Q,oBACJ,OACJ,OAEA,aAEA,iBAA6D,kCAAY,EAAA4B,aAGrE,iBACI,iBACI,mB,qBAGA,+B,qBAEJ,OACA,kBACI,qBACI,S,qBACJ,OACJ,OACJ,OACJ,OACJ,OACA,kBACI,kBACI,kBACI,gBACI,S,qBACJ,OACJ,OACJ,OACJ,OACJ,OACJ,OACJ,Q,MApCwB,yDAMkC,iCAMvB,gEAAmD,2CAEvC,4CAA8B,6CAK7C,0DASL,sCACC,iE,sFDnBrB,KDLA,Y,MAAMC,G,8BAAAA,I,oDAAAA,IAA2B,SAH7B,CAAC,IAAaC,SAASjC,IACtB,O,GAEL,G,gBGMA,Y,MAAMkC,G,8BAAAA,I,oDAAAA,IAAoB,SAPtB,CACP,IACA,EACA,IACA,Q,GAGG","file":"x","sourcesContent":["\r\nexport class EmailDTO {\r\n\r\n    private email: string;\r\n\r\n    constructor() {}\r\n\r\n    public getEmail(): string {\r\n        return this.email;\r\n    }\r\n\r\n    public setEmail(email: string) {\r\n        this.email = email;\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ForgotPasswordComponent } from './forgot-password.component';\r\n\r\nconst ROUTES: Routes = [\r\n  { path: '', component: ForgotPasswordComponent }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(ROUTES)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ForgotPasswordRoutingModule { }\r\n","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { FormBuilder, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\nimport { StorageService } from 'src/app/services/storage.service';\r\nimport { ModalService } from 'src/app/services/modal.service';\r\nimport { AuthenticationService } from 'src/app/services/authentication.service';\r\n\r\nimport { EmailDTO } from 'src/app/models/domain/dto/email.dto';\r\n\r\nimport { BaseFormComponent } from 'src/app/shared/base-form/base-form.component';\r\n\r\n@Component({\r\n  selector: 'app-forgot-password',\r\n  templateUrl: './forgot-password.component.html'\r\n})\r\nexport class ForgotPasswordComponent extends BaseFormComponent<EmailDTO> implements OnInit, OnDestroy {\r\n\r\n  constructor(\r\n    protected translateService: TranslateService,\r\n    protected storageService: StorageService,\r\n    protected formBuilder: FormBuilder,\r\n    protected router: Router,\r\n    protected modalService: ModalService,\r\n    private authenticationService: AuthenticationService\r\n  ) {\r\n    super(translateService, storageService, formBuilder, router);\r\n\r\n    this.showModal = true;\r\n    this.model = new EmailDTO();\r\n    this.subscription$ = new Subscription();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.form = this.formBuilder.group({\r\n      email: [null, [Validators.required, Validators.email]]\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscription$.unsubscribe();\r\n  }\r\n\r\n  protected submit(): void {\r\n    this.model = Object.assign(this.model, this.form.value) as EmailDTO;\r\n    const waitModal = this.modalService.showWaitModal();\r\n\r\n    setTimeout(() => {\r\n      this.subscription$ = this.authenticationService.forgotPassword(this.model).subscribe(\r\n        () => {\r\n          this.modalService.hideModal (waitModal);\r\n          this.modalService.showAlertSuccess ('modal.titles.success', 'modal.titles.check-your-email');\r\n          this.router.navigate (['login']);\r\n        },\r\n        () => {\r\n          this.modalService.hideModal (waitModal);\r\n          this.modalService.showAlertDanger ('modal.titles.attention', 'modal.messages.post-error');\r\n        }\r\n      );\r\n    }, 500);\r\n  }\r\n\r\n  protected showValidationModal(form: any): void {\r\n    this.modalService.showAlertDanger('modal.titles.attention', 'modal.messages.enter-valid-email');\r\n  }\r\n}\r\n","\r\n<!-- forgot password-->\r\n<section class=\"container\">\r\n    <div class=\"box-wrapper w-75 mx-auto my-md-5 my-3 shadow-lg\">\r\n        <div class=\"card\">\r\n            <div class=\"card-body\">\r\n                <header>\r\n                    <h2 class=\"text-center\"> \r\n                        {{ 'global.forgot-password' | translate }} \r\n                    </h2>\r\n                </header>\r\n\r\n                <hr>\r\n\r\n                <form class=\"needs-validation\" novalidate [formGroup]=\"form\" (ngSubmit)=\"onSubmit ();\">\r\n                \r\n                    <!-- email -->\r\n                    <div class=\"form-row\">\r\n                        <div class=\"col-md-9\">\r\n                            <input type=\"email\" id=\"emailInput\" class=\"form-control\" maxlength=\"30\" \r\n                                   [placeholder]=\"'global.personal.email' | translate\"\r\n                                   formControlName=\"email\" [ngClass]=\"buildValidationClass ('email')\" />\r\n                            <app-error-message [control]=\"form.get ('email')\" [label]=\"'global.personal.email' | translate\">\r\n                            </app-error-message>\r\n                        </div>\r\n                        <div class=\"col-md-3\">\r\n                            <button type=\"submit\" class=\"btn btn-success btn-block\"> \r\n                                {{ 'global.buttons.submit' | translate }} \r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            <div class=\"card-footer\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-12\">\r\n                        <a [routerLink]=\"['/login']\">\r\n                            {{ 'forgot-password.back-login' | translate }} \r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</section>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { ForgotPasswordRoutingModule } from './forgot-password-routing.module';\r\n\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\n\r\nimport { ForgotPasswordComponent } from './forgot-password.component';\r\n\r\n@NgModule({\r\n  declarations: [ForgotPasswordComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ForgotPasswordRoutingModule,\r\n    SharedModule,\r\n    ReactiveFormsModule,\r\n  ]\r\n})\r\nexport class ForgotPasswordModule { }\r\n"]}