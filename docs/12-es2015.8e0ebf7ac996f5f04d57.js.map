{"version":3,"sources":["webpack:///src/app/enums/meeting-status.enum.ts","webpack:///src/app/views/meeting-schedules/meeting-schedules-list/meeting-schedules-list.component.html","webpack:///src/app/views/meeting-schedules/meeting-schedules-routing.module.ts","webpack:///src/app/views/meeting-schedules/meeting-schedules-list/meeting-schedules-list.component.ts","webpack:///src/app/views/meeting-schedules/meeting-schedules.module.ts"],"names":["MeetingStatus","SCHEDULED","FINISHED","CANCELED","ROUTES","path","component","MeetingSchedulesListComponent","translateService","modalService","storageService","authenticationService","meetingScheduleService","super","isHidden","statusDescriptions","this","globalHeader","modalTexts","confirm","body","success","error","tableHeaders","Object","assign","_localUser","getLocalUser","button","localCancelScheduleButton","localNewReportButton","onReload","hasError","records$","loadData","toggleVisibility","showConfirm","title","asObservable","pipe","take","switchMap","result","selectedModel","setMeetingStatus","updateStatus","subscribe","currentStatus","showAlertSuccess","showAlertDanger","status","pipeFindAll","findAllByStatus","findAll","getType","findAllByEmployee","getId","findAllByStudent","observable","map","schedules","schedule","dto","employee","student","getEmployee","getStudent","setEmployee","setStudent","catchError","error$","next","handleError","loading","nativeElement","getMeetingStatus","listStatus","hasOwnProperty","push","type","showNewMeetingSchedule","showNewReport","profile","containsProfile","key","toLowerCase","index","indexOf","filterStatus","MeetingSchedulesRoutingModule","forChild","MeetingSchedulesModule"],"mappings":"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","file":"x","sourcesContent":["\r\nexport enum MeetingStatus {\r\n\r\n    SCHEDULED = 'Scheduled',\r\n    FINISHED = 'Finished',\r\n    CANCELED = 'Canceled'\r\n}\r\n","\r\n<!-- meeting schedules -->\r\n<article class=\"table-box w-100 shadow-lg mx-auto my-md-5 my-3\">\r\n    <header>\r\n        <h1 class=\"mb-3 text-center\"> {{ globalHeader | translate }} </h1>\r\n    </header>\r\n\r\n    <hr>\r\n\r\n    <div class=\"form-row mb-3\">\r\n\r\n        <!-- admin combo -->\r\n        <div class=\"col-md-3 col-sm-6 my-md-0 my-2\" *ngIf=\"containsProfile ('ADMIN');\">\r\n            <select class=\"form-control\" #scheduleCombo (change)=\"toggleVisibility (scheduleCombo.value, statusCombo.value);\">\r\n                <option value=\"all\"> \r\n                    {{ 'global.other.all' | translate }} {{ 'global.menu-links.schedules' | translate }} \r\n                </option>\r\n                <option value=\"my\" selected> \r\n                    {{ 'global.other.my' | translate }} {{ 'global.menu-links.schedules' | translate }} \r\n                </option>\r\n            </select>\r\n        </div>\r\n\r\n        <!-- status combo -->\r\n        <div class=\"col-md-4 col-sm-6 my-md-0 my-2\" [hidden]=\"!isHidden\">\r\n            <div class=\"input-group\">\r\n                <div class=\"input-group-prepend\">\r\n                    <span class=\"input-group-text\"> \r\n                        {{ 'meeting-schedules.current-status' | translate }} \r\n                    </span>\r\n                </div>\r\n                <select #statusCombo class=\"form-control\" (change)=\"filterStatus (statusCombo.value);\">\r\n                    <option *ngFor=\"let status of listMeetingStatus(); let currentIndex = index;\" [value]=\"status\"> \r\n                        {{ statusDescriptions[currentIndex] | translate }} \r\n                    </option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- new meeting schedule -->\r\n        <div class=\"col-md-4 col-sm-6 my-md-0 my-2 \" *ngIf=\"containsProfile ('EMPLOYEE');\" [hidden]=\"isHidden\">\r\n            <button type=\"button\" class=\"btn btn-primary btn-block\" (click)=\"showNewMeetingScheduleModal ();\"> \r\n                {{ 'global.buttons.new-meeting-schedule' | translate }} \r\n            </button>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"row\" *ngIf=\"records$ | async as schedules; else spanLoading;\">\r\n        <div class=\"col-12\">\r\n            <div class=\"table-responsive\" *ngIf=\"!hasError && schedules.length !== 0; else nothingFound\">\r\n                <table class=\"table table-striped table-bordered\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th scope=\"col\" *ngFor=\"let header of tableHeaders\"> \r\n                                {{ header | translate }}\r\n                            </th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor=\"let schedule of schedules;\">\r\n                            <td scope=\"row\">\r\n                                <div *ngIf=\"containsProfile ('ADMIN') && !isHidden;\">\r\n                                    <input type=\"radio\" name=\"id\" class=\"custom-radio\" (click)=\"toggleButtons (schedule)\">\r\n                                </div>\r\n                            </td>\r\n    \r\n                            <td scope=\"row\"> {{ schedule.getDatetime () }} </td>\r\n                            <td scope=\"row\"> {{ schedule.getEmployee ()?.getName () }} </td>\r\n                            <td scope=\"row\"> {{ schedule.getStudent ()?.getName () }} </td>\r\n                            \r\n                            <td scope=\"row\">\r\n                                <span [class]=\"setBagdeClass (schedule.getMeetingStatus ())\">\r\n                                    {{ getTranslatedStatus (schedule.getMeetingStatus ()) | translate }} \r\n                                </span>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n    \r\n            <!-- actions -->\r\n            <div *ngIf=\"containsProfile ('EMPLOYEE') && schedules.length !== 0\">\r\n                <div class=\"row\" [hidden]=\"isHidden\">\r\n                    <div class=\"col-lg-3 col-md-4 col-sm-6\">\r\n                        <button type=\"button\" class=\"btn btn-danger w-100 mt-2\" disabled #cancelScheduleButton (click)=\"onUpdate ();\"> \r\n                            {{ 'meeting-schedules.buttons.cancel-schedule' | translate }} \r\n                        </button>\r\n                    </div>\r\n                    <div class=\"col-md-3 col-sm-6\">\r\n                        <button type=\"button\" class=\"btn btn-primary w-100 mt-2\" disabled #newReportButton (click)=\"showNewReportModal ();\"> \r\n                            {{ 'global.buttons.new-report' | translate }} \r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <ng-template #spanLoading>\r\n        <div class=\"bg-light p-3 text-center\">\r\n            <span *ngIf=\"!hasError; else spanError;\"> \r\n                {{ 'global.messages.loading' | translate }} \r\n                {{ 'global.menu-links.schedules' | translate }} ... \r\n            </span>\r\n        </div>\r\n    </ng-template>\r\n\r\n    <ng-template #spanError>\r\n        <span> {{ 'global.messages.system-error' | translate }} </span>\r\n        <button type=\"button\" class=\"btn btn-info mx-1\" (click)=\"onReload ()\"> \r\n            {{ 'global.buttons.reload' | translate }} \r\n        </button>\r\n    </ng-template>\r\n\r\n    <ng-template #nothingFound>\r\n        <div class=\"bg-light p-3 text-center\">\r\n            <span> {{ 'global.messages.nothing-found' | translate }} </span>\r\n        </div>\r\n    </ng-template>\r\n</article>\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { MeetingSchedulesListComponent } from './meeting-schedules-list/meeting-schedules-list.component';\r\nimport { MeetingSchedulesFormComponent } from './meeting-schedules-form/meeting-schedules-form.component';\r\n\r\nconst ROUTES: Routes = [\r\n  { path: '', component: MeetingSchedulesListComponent },\r\n  { path: 'new', component: MeetingSchedulesFormComponent },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(ROUTES)],\r\n  exports: [RouterModule]\r\n})\r\nexport class MeetingSchedulesRoutingModule { }\r\n","import { Component, OnInit, ElementRef, ViewChild } from '@angular/core';\r\nimport { Observable, EMPTY } from 'rxjs';\r\nimport { map, take, switchMap, catchError } from 'rxjs/operators';\r\n\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { MeetingScheduleService } from 'src/app/services/domain/meeting-schedule.service';\r\nimport { StorageService } from 'src/app/services/storage.service';\r\nimport { AuthenticationService } from 'src/app/services/authentication.service';\r\nimport { ModalService } from 'src/app/services/modal.service';\r\n\r\nimport { MeetingScheduleDTO } from 'src/app/models/domain/dto/meeting-schedule.dto';\r\nimport { EmployeeDTO } from 'src/app/models/domain/dto/employee.dto';\r\nimport { StudentDTO } from 'src/app/models/domain/dto/student.dto';\r\n\r\nimport { MeetingStatus } from 'src/app/enums/meeting-status.enum';\r\n\r\nimport { BaseTableComponent } from 'src/app/shared/list-table/base-table/base-table.component';\r\n\r\n@Component({\r\n  selector: 'app-meeting-schedules-list',\r\n  templateUrl: './meeting-schedules-list.component.html',\r\n})\r\nexport class MeetingSchedulesListComponent extends BaseTableComponent<MeetingScheduleDTO> implements OnInit {\r\n\r\n  public isHidden = true;\r\n  private currentStatus: string;\r\n  private localCancelScheduleButton: ElementRef;\r\n  private localNewReportButton: ElementRef;\r\n\r\n  @ViewChild('cancelScheduleButton') protected set cancelScheduleButton(button: ElementRef) {\r\n    this.localCancelScheduleButton = button;\r\n  }\r\n\r\n  @ViewChild('newReportButton') protected set newReportButton(button: ElementRef) {\r\n    this.localNewReportButton = button;\r\n  }\r\n\r\n  public statusDescriptions: string[] = [\r\n    'global.other.all',\r\n    'meeting-schedules.status.scheduled',\r\n    'meeting-schedules.status.finished',\r\n    'meeting-schedules.status.canceled'\r\n  ];\r\n\r\n  constructor(\r\n    protected translateService: TranslateService,\r\n    protected modalService: ModalService,\r\n    protected storageService: StorageService,\r\n    private authenticationService: AuthenticationService,\r\n    private meetingScheduleService: MeetingScheduleService,\r\n  ) {\r\n    super(translateService, storageService, modalService);\r\n\r\n    // default values\r\n    this.globalHeader = 'global.menu-links.schedules';\r\n    this.modalTexts.confirm.body = 'meeting-schedules.messages.cancel-confirmation';\r\n    this.modalTexts.success.body = 'meeting-schedules.messages.cancel-success';\r\n    this.modalTexts.error.body = 'meeting-schedules.messages.cancel-error';\r\n    this.tableHeaders = [\r\n      '#', 'meeting-schedules.datetime', 'meeting-schedules.employee',\r\n      'meeting-schedules.student', 'meeting-schedules.status.status'\r\n    ];\r\n\r\n    Object.assign(this._localUser, storageService.getLocalUser());\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.onReload ();\r\n  }\r\n\r\n  public onDelete(): void {}\r\n  public onReload(): void {\r\n    this.hasError = false;\r\n    this.records$ = this.loadData();\r\n    this.toggleVisibility ('my', '');\r\n  }\r\n\r\n  public onUpdate(): void {\r\n\r\n    const result$ = this.modalService.showConfirm (this.modalTexts.confirm.title, this.modalTexts.confirm.body);\r\n    result$.asObservable().pipe(\r\n      take(1),\r\n      switchMap(result => {\r\n        if (result) {\r\n          this.selectedModel.setMeetingStatus('Canceled');\r\n          return this.meetingScheduleService.updateStatus(this.selectedModel);\r\n        }\r\n\r\n        return EMPTY;\r\n      })\r\n    ).subscribe(\r\n      () => {\r\n        this.records$ = this.loadData(this.currentStatus);\r\n        this.modalService.showAlertSuccess(this.modalTexts.success.title, this.modalTexts.success.body);\r\n      },\r\n      () => this.modalService.showAlertDanger(this.modalTexts.error.title, this.modalTexts.error.body)\r\n    );\r\n   }\r\n\r\n  protected loadData(status?: string): Observable<MeetingScheduleDTO[]> {\r\n    this.currentStatus = status;\r\n\r\n    if (status) {\r\n      if (status !== 'All') {\r\n        return this.pipeFindAll (this.meetingScheduleService.findAllByStatus (status));\r\n      }\r\n      else {\r\n        return this.pipeFindAll (this.meetingScheduleService.findAll ());\r\n      }\r\n    }\r\n\r\n    if (this._localUser.getType () === 'Employee') {\r\n      return this.pipeFindAll (this.meetingScheduleService.findAllByEmployee(this._localUser.getId()));\r\n    }\r\n    else if (this._localUser.getType() === 'Student') {\r\n      return this.pipeFindAll (this.meetingScheduleService.findAllByStudent(this._localUser.getId()));\r\n    }\r\n  }\r\n\r\n  protected pipeFindAll(observable: Observable<any>): Observable<MeetingScheduleDTO[]> {\r\n    return observable.pipe (\r\n      map(schedules => {\r\n        return schedules.map((schedule) => {\r\n          this.hasError = false;\r\n\r\n          let dto = new MeetingScheduleDTO();\r\n          let employee = new EmployeeDTO();\r\n          let student = new StudentDTO();\r\n\r\n          dto = Object.assign(dto, schedule);\r\n          employee = Object.assign(employee, dto.getEmployee());\r\n          student = Object.assign(student, dto.getStudent());\r\n\r\n          dto.setEmployee(employee);\r\n          dto.setStudent(student);\r\n\r\n          return dto;\r\n        });\r\n      }),\r\n\r\n      catchError (() => {\r\n        this.hasError = true;\r\n        this.error$.next (true);\r\n        this.handleError (this.modalTexts.error.title, this.modalTexts.loading.body);\r\n        return EMPTY;\r\n      })\r\n    ) as Observable<MeetingScheduleDTO[]>;\r\n  }\r\n\r\n  public setBagdeClass(status: string): string {\r\n    switch (status) {\r\n      case 'Finished': return 'badge badge-success';\r\n      case 'Canceled': return 'badge badge-danger';\r\n      case 'Scheduled': default: return 'badge badge-primary';\r\n    }\r\n  }\r\n\r\n  public toggleButtons(schedule: MeetingScheduleDTO): void {\r\n    this.selectedModel = schedule;\r\n\r\n    const key = 'disabled';\r\n    this.localCancelScheduleButton.nativeElement[key] = (schedule.getMeetingStatus () !== 'Scheduled');\r\n    this.localNewReportButton.nativeElement[key] = (schedule.getMeetingStatus () !== 'Scheduled');\r\n  }\r\n\r\n  public listMeetingStatus(): string[] {\r\n    const listStatus: string[] = ['All'];\r\n    for (const status in MeetingStatus) {\r\n      if (MeetingStatus.hasOwnProperty (status)) {\r\n        listStatus.push (MeetingStatus[status]);\r\n      }\r\n    }\r\n\r\n    return listStatus;\r\n  }\r\n\r\n  public toggleVisibility(type: string, status?: string): void {\r\n    this.isHidden = (type === 'all');\r\n\r\n    if (type === 'all' && status !== '') {\r\n      this.records$ = this.loadData (status);\r\n    }\r\n    else if (type === 'my') {\r\n      this.records$ = this.loadData ();\r\n    }\r\n  }\r\n\r\n  public filterStatus(status: string): void{\r\n      this.records$ = this.loadData (status);\r\n  }\r\n\r\n  public showNewMeetingScheduleModal(): void {\r\n    const result$ = this.modalService.showNewMeetingSchedule ();\r\n    result$.asObservable ().pipe (take (1)).subscribe (\r\n      (success: boolean) => {\r\n        if (success) {\r\n          this.modalService.showAlertSuccess(this.modalTexts.success.title, 'meeting-schedules.messages.scheduled-success');\r\n          this.records$ = this.loadData ();\r\n        }\r\n        else {\r\n          this.modalService.showAlertDanger(this.modalTexts.error.title, 'meeting-schedules.messages.scheduled-error');\r\n        }\r\n      },\r\n      () =>\r\n        this.modalService.showAlertDanger(this.modalTexts.success.title, 'meeting-schedules.messages.scheduled-error')\r\n    );\r\n  }\r\n\r\n  public showNewReportModal(): void {\r\n    const result$ = this.modalService.showNewReport (this.selectedModel);\r\n    result$.asObservable ().pipe (take (1)).subscribe (\r\n      (success: boolean) => {\r\n        if (success) {\r\n          this.modalService.showAlertSuccess (this.modalTexts.success.title, 'report.messages.report-success');\r\n          this.records$ = this.loadData ();\r\n        } else {\r\n          this.modalService.showAlertDanger (this.modalTexts.error.title, 'report.messages.report-error');\r\n        }\r\n      },\r\n      () =>\r\n        this.modalService.showAlertDanger (this.modalTexts.error.title, 'report.messages.report-error')\r\n    );\r\n  }\r\n\r\n  public containsProfile(profile: string): boolean {\r\n    return this.authenticationService.containsProfile (profile);\r\n  }\r\n\r\n  public getTranslatedStatus(status: string): string {\r\n    const key = `meeting-schedules.status.${status.toLowerCase ()}`;\r\n    const index = this.statusDescriptions.indexOf (key);\r\n    return this.statusDescriptions[index];\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { MeetingSchedulesRoutingModule } from './meeting-schedules-routing.module';\r\n\r\nimport { BootstrapModule } from 'src/app/shared/bootstrap/bootstrap.module';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\n\r\nimport { MeetingSchedulesListComponent } from './meeting-schedules-list/meeting-schedules-list.component';\r\nimport { MeetingSchedulesFormComponent } from './meeting-schedules-form/meeting-schedules-form.component';\r\n\r\n@NgModule({\r\n  declarations: [MeetingSchedulesListComponent, MeetingSchedulesFormComponent],\r\n  imports: [\r\n    CommonModule,\r\n    MeetingSchedulesRoutingModule,\r\n    BootstrapModule,\r\n    ReactiveFormsModule,\r\n    SharedModule\r\n  ]\r\n})\r\nexport class MeetingSchedulesModule { }\r\n"]}