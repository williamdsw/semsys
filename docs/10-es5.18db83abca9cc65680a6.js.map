{"version":3,"sources":["webpack:///src/app/views/home/home.component.html","webpack:///src/app/views/home/home-routing.module.ts","webpack:///src/app/views/home/home.component.ts","webpack:///src/app/views/home/home.module.ts"],"names":["HomeComponent","HomeRoutingModule","HomeModule","ROUTES","path","component","translateService","storageService","authenticationService","super","this","subscription$","Subscription","refreshToken","subscribe","response","bearerToken","headers","get","localUser","Object","assign","getLocalUser","setToken","substring","length","setLocalUser","alert","unsubscribe","src","url","alt","checkProfile","containsProfile","forChild"],"mappings":"o2CAKY,gBACI,cACI,gB,oBACA,eAAO,Q,oBAA2B,OACtC,OACJ,Q,4BAJoB,iCACmB,+BAAgB,uBACxC,uC,yBAJnB,QACI,sBAMJ,Q,uBAN0C,qCCAlD,ICWaA,EDHAC,EEKAC,EFbPC,EAAiB,CACrB,CAAEC,KAAM,GAAIC,WCUDL,EAAN,a,kOAAA,U,MAAA,OAIL,WACYM,EACAC,EACFC,2BAERC,cAAMH,EAAkBC,IAJdD,mBACA,EAAAC,iBACF,EAAAC,wBAGRE,EAAKC,cAAgB,IAAIC,EAAA,EAHjBJ,EAPL,O,EAAA,G,EAAA,kCAaK,WACRE,KAAKC,cAAgBD,KAAKF,sBAAsBK,eAAgBC,UAC7DC,YACC,IAAMC,EAAcD,EAASE,QAAQC,IAAK,iBACtCC,EAAY,IAAI,KACpBA,EAAYC,OAAOC,OAAQF,EAAWT,EAAKH,eAAee,iBAChDC,SAAUP,EAAYQ,UAAW,UAAUC,SACrDf,EAAKH,eAAemB,aAAcP,IAEpC,kBAAMQ,MAAM,sCAtBX,oCA2BHjB,KAAKC,cAAciB,gBA3BhB,2CA+BH,MAAO,CACL,CACEC,IAAK,kCACLC,IAAK,WACLC,IAAK,4BACLC,aAActB,KAAKF,sBAAsByB,gBAAgB,UAE3D,CACEJ,IAAK,oCACLC,IAAK,aACLC,IAAK,8BACLC,aAActB,KAAKF,sBAAsByB,gBAAgB,aAE3D,CACEJ,IAAK,mCACLC,IAAK,YACLC,IAAK,6BACLC,aAActB,KAAKF,sBAAsByB,gBAAgB,aAE3D,CACEJ,IAAK,kCACLC,IAAK,WACLC,IAAK,4BACLC,aAActB,KAAKF,sBAAsByB,gBAAgB,aAE3D,CACEJ,IAAK,oCACLC,IAAK,aACLC,IAAK,iCACLC,aAActB,KAAKF,sBAAsByB,gBAAgB,aAE3D,CACEJ,IAAK,kCACLC,IAAK,WACLC,IAAK,+BACLC,cAAa,GAEf,CACEH,IAAK,kCACLC,IAAK,WACLC,IAAK,4BACLC,cAAa,GAEf,CACEH,IAAK,mCACLC,IAAK,YACLC,IAAK,6BACLC,cAAa,GAEf,CACEH,IAAK,gCACLC,IAAK,SACLC,IAAK,0BACLC,cAAa,S,2BApFd,GAA4B,K,sCAAtBhC,GAAa,gC,uBAAbA,EAAa,qVFd1B,oBACI,gBACI,+BAQJ,OACJ,Q,MATuC,iD,8lBCShC,IAAMC,EAAN,yB,qBAAMA,I,oDAAAA,IAAiB,SAHnB,CAAC,IAAaiC,SAAS/B,IACtB,O,2BEOL,IAAMD,EAAN,yB,qBAAMA,I,oDAAAA,IAAU,SAPZ,CACP,IACA,EACA,IACA,Q","file":"x","sourcesContent":["\r\n<!-- icons -->\r\n<article class=\"home-container w-100 mx-auto my-md-5 my-3 shadow-lg\">\r\n    <div class=\"row\">\r\n        <ng-container *ngFor=\"let link of buildCarouselLinks ();\">\r\n            <div class=\"col-md-auto col-12 my-3\" *ngIf=\"link.checkProfile\">\r\n                <a class=\"mt-3\" [routerLink]=\"link.url\">\r\n                    <img class=\"icon mx-auto mb-2\" [src]=\"link.src\" [alt]=\"link.alt | translate\">\r\n                    <span> {{ link.alt | translate }} </span>\r\n                </a>\r\n            </div>\r\n        </ng-container>\r\n    </div>\r\n</article>","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { HomeComponent } from './home.component';\r\n\r\nconst ROUTES: Routes = [\r\n  { path: '', component: HomeComponent },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(ROUTES)],\r\n  exports: [RouterModule]\r\n})\r\nexport class HomeRoutingModule { }\r\n","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\nimport { AuthenticationService } from 'src/app/services/authentication.service';\r\nimport { StorageService } from 'src/app/services/storage.service';\r\n\r\nimport { LocalUser } from 'src/app/models/local-user';\r\n\r\nimport { BaseTranslateComponent } from 'src/app/shared/base-translate/base-translate.component';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.scss']\r\n})\r\nexport class HomeComponent extends BaseTranslateComponent implements OnInit, OnDestroy {\r\n\r\n  private subscription$: Subscription;\r\n\r\n  constructor(\r\n    protected translateService: TranslateService,\r\n    protected storageService: StorageService,\r\n    private authenticationService: AuthenticationService) {\r\n\r\n    super(translateService, storageService);\r\n    this.subscription$ = new Subscription();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.subscription$ = this.authenticationService.refreshToken ().subscribe (\r\n      (response) => {\r\n        const bearerToken = response.headers.get ('Authorization');\r\n        let localUser = new LocalUser ();\r\n        localUser = Object.assign (localUser, this.storageService.getLocalUser ());\r\n        localUser.setToken (bearerToken.substring ('Bearer '.length));\r\n        this.storageService.setLocalUser (localUser);\r\n      },\r\n      () => alert('Error on refreshing the token!')\r\n    );\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscription$.unsubscribe ();\r\n  }\r\n\r\n  public buildCarouselLinks(): any {\r\n    return [\r\n      {\r\n        src: 'assets/images/icons/persons.png',\r\n        url: '/persons',\r\n        alt: 'global.menu-links.persons',\r\n        checkProfile: this.authenticationService.containsProfile('ADMIN'),\r\n      },\r\n      {\r\n        src: 'assets/images/icons/employees.png',\r\n        url: '/employees',\r\n        alt: 'global.menu-links.employees',\r\n        checkProfile: this.authenticationService.containsProfile('EMPLOYEE')\r\n      },\r\n      {\r\n        src: 'assets/images/icons/students.png',\r\n        url: '/students',\r\n        alt: 'global.menu-links.students',\r\n        checkProfile: this.authenticationService.containsProfile('EMPLOYEE'),\r\n      },\r\n      {\r\n        src: 'assets/images/icons/courses.png',\r\n        url: '/courses',\r\n        alt: 'global.menu-links.courses',\r\n        checkProfile: this.authenticationService.containsProfile('EMPLOYEE'),\r\n      },\r\n      {\r\n        src: 'assets/images/icons/schedules.png',\r\n        url: '/schedules',\r\n        alt: 'global.menu-links.my-schedules',\r\n        checkProfile: this.authenticationService.containsProfile('EMPLOYEE'),\r\n      },\r\n      {\r\n        src: 'assets/images/icons/reports.png',\r\n        url: '/reports',\r\n        alt: 'global.menu-links.my-reports',\r\n        checkProfile: true\r\n      },\r\n      {\r\n        src: 'assets/images/icons/profile.png',\r\n        url: '/profile',\r\n        alt: 'global.menu-links.profile',\r\n        checkProfile: true,\r\n      },\r\n      {\r\n        src: 'assets/images/icons/settings.png',\r\n        url: '/settings',\r\n        alt: 'global.menu-links.settings',\r\n        checkProfile: true,\r\n      },\r\n      {\r\n        src: 'assets/images/icons/about.png',\r\n        url: '/about',\r\n        alt: 'global.menu-links.about',\r\n        checkProfile: true,\r\n      },\r\n    ];\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { HomeRoutingModule } from './home-routing.module';\r\nimport { BootstrapModule } from 'src/app/shared/bootstrap/bootstrap.module';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\n\r\nimport { HomeComponent } from './home.component';\r\n\r\n@NgModule({\r\n  declarations: [HomeComponent],\r\n  imports: [\r\n    CommonModule,\r\n    HomeRoutingModule,\r\n    BootstrapModule,\r\n    SharedModule,\r\n  ]\r\n})\r\nexport class HomeModule { }\r\n"]}